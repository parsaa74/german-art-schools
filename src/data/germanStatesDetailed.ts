import { GermanState } from './germanStates';

export const germanStatesDetailed: GermanState[] = [
  {
    name: 'Bavaria',
    color: '#3498db',
    labelPosition: [48.7904, 11.4979],
    population: 13124737,
    capital: 'Munich',
    coordinates: [
      [47.270, 10.179], [47.416, 10.899], [47.580, 12.101],
      [47.702, 13.008], [48.319, 13.833], [49.117, 13.833],
      [49.452, 12.433], [50.267, 11.983], [50.317, 11.267],
      [49.792, 10.133], [49.352, 9.567], [48.683, 10.167],
      [48.383, 10.217], [47.870, 10.179], [47.583, 10.456],
      [47.405, 10.172], [47.270, 10.179]
    ]
  },
  {
    name: 'Baden-Württemberg',
    color: '#e74c3c',
    labelPosition: [48.5377, 9.0436],
    population: 11070000,
    capital: 'Stuttgart',
    coordinates: [
      [49.792, 8.483], [49.402, 9.783], [49.787, 10.233],
      [48.683, 10.167], [48.383, 10.217], [47.870, 10.179],
      [47.667, 8.617], [47.583, 7.583], [48.033, 7.867],
      [48.683, 8.150], [49.402, 8.483], [49.792, 8.483]
    ]
  },
  {
    name: 'Berlin',
    color: '#9b59b6',
    labelPosition: [52.5200, 13.4050],
    population: 3669495,
    capital: 'Berlin',
    coordinates: [
      [52.675, 13.089], [52.675, 13.761], [52.338, 13.761],
      [52.338, 13.089], [52.442, 13.089], [52.533, 13.142],
      [52.615, 13.089], [52.675, 13.089]
    ]
  },
  {
    name: 'Brandenburg',
    color: '#f1c40f',
    labelPosition: [52.4125, 12.5316],
    population: 2522000,
    capital: 'Potsdam',
    coordinates: [
      [53.558, 11.733], [53.317, 14.133], [52.867, 14.767],
      [51.867, 14.767], [51.383, 13.733], [51.843, 11.733],
      [52.843, 11.733], [53.317, 12.100], [53.558, 11.733]
    ]
  },
  {
    name: 'Bremen',
    color: '#1abc9c',
    labelPosition: [53.0793, 8.8017],
    population: 680130,
    capital: 'Bremen',
    coordinates: [
      [53.128, 8.717], [53.128, 8.917], [53.038, 8.917],
      [53.038, 8.717], [53.075, 8.717], [53.128, 8.717]
    ]
  },
  {
    name: 'Hamburg',
    color: '#e67e22',
    labelPosition: [53.5511, 9.9937],
    population: 1841179,
    capital: 'Hamburg',
    coordinates: [
      [53.718, 9.717], [53.718, 10.247], [53.398, 10.247],
      [53.398, 9.717], [53.515, 9.717], [53.718, 9.717]
    ]
  },
  {
    name: 'Hesse',
    color: '#34495e',
    labelPosition: [50.6521, 9.1624],
    population: 6288000,
    capital: 'Wiesbaden',
    coordinates: [
      [51.202, 9.417], [50.652, 10.167], [49.792, 9.567],
      [49.402, 8.483], [50.323, 7.613], [50.743, 8.156],
      [51.000, 8.900], [51.202, 9.417]
    ]
  },
  {
    name: 'Lower Saxony',
    color: '#16a085',
    labelPosition: [52.7562, 9.3933],
    population: 8000000,
    capital: 'Hannover',
    coordinates: [
      [53.893, 7.217], [53.893, 10.983], [52.528, 10.983],
      [52.158, 8.483], [51.843, 6.156], [52.528, 7.217],
      [53.100, 7.217], [53.893, 7.217]
    ]
  },
  {
    name: 'Mecklenburg-Vorpommern',
    color: '#27ae60',
    labelPosition: [53.7749, 12.5767],
    population: 1610000,
    capital: 'Schwerin',
    coordinates: [
      [54.683, 10.983], [54.183, 14.217], [53.317, 14.133],
      [53.558, 11.733], [53.893, 10.983], [54.200, 10.983],
      [54.683, 10.983]
    ]
  },
  {
    name: 'North Rhine-Westphalia',
    color: '#2ecc71',
    labelPosition: [51.4332, 7.6616],
    population: 17925570,
    capital: 'Düsseldorf',
    coordinates: [
      [51.843, 6.156], [52.528, 7.217], [52.158, 8.483],
      [51.202, 9.417], [50.323, 7.613], [50.363, 6.243],
      [51.052, 5.957], [51.500, 6.156], [51.843, 6.156]
    ]
  },
  {
    name: 'Rhineland-Palatinate',
    color: '#2980b9',
    labelPosition: [49.9929, 7.3366],
    population: 4085000,
    capital: 'Mainz',
    coordinates: [
      [50.323, 7.613], [49.402, 8.483], [49.233, 6.383],
      [49.633, 6.183], [50.363, 6.243], [50.323, 7.613]
    ]
  },
  {
    name: 'Saarland',
    color: '#8e44ad',
    labelPosition: [49.3964, 7.0230],
    population: 990509,
    capital: 'Saarbrücken',
    coordinates: [
      [49.633, 6.183], [49.233, 6.383], [49.118, 7.417],
      [49.463, 7.083], [49.633, 6.483], [49.633, 6.183]
    ]
  },
  {
    name: 'Saxony',
    color: '#c0392b',
    labelPosition: [51.1045, 13.2017],
    population: 4077937,
    capital: 'Dresden',
    coordinates: [
      [51.383, 12.367], [51.383, 14.767], [50.567, 14.767],
      [50.567, 12.367], [51.000, 12.367], [51.383, 12.367]
    ]
  },
  {
    name: 'Saxony-Anhalt',
    color: '#d35400',
    labelPosition: [51.9713, 11.4288],
    population: 2194782,
    capital: 'Magdeburg',
    coordinates: [
      [52.843, 11.733], [51.843, 11.733], [51.383, 12.367],
      [51.383, 13.733], [52.843, 13.733], [52.843, 12.500],
      [52.843, 11.733]
    ]
  },
  {
    name: 'Schleswig-Holstein',
    color: '#f39c12',
    labelPosition: [54.2794, 9.8385],
    population: 2910875,
    capital: 'Kiel',
    coordinates: [
      [54.913, 8.717], [54.913, 10.983], [53.893, 10.983],
      [53.893, 8.717], [54.400, 8.717], [54.913, 8.717]
    ]
  },
  {
    name: 'Thuringia',
    color: '#7f8c8d',
    labelPosition: [50.8614, 11.0522],
    population: 2143145,
    capital: 'Erfurt',
    coordinates: [
      [51.383, 10.133], [51.383, 12.367], [50.267, 12.367],
      [50.267, 10.133], [50.800, 10.133], [51.383, 10.133]
    ]
  }
];

// Helper function for bezier curve interpolation
function bezierInterpolate(p0: [number, number], p1: [number, number], p2: [number, number], t: number): [number, number] {
  const lat = Math.pow(1 - t, 2) * p0[0] + 2 * (1 - t) * t * p1[0] + Math.pow(t, 2) * p2[0];
  const lng = Math.pow(1 - t, 2) * p0[1] + 2 * (1 - t) * t * p1[1] + Math.pow(t, 2) * p2[1];
  return [lat, lng];
}

// Helper function to generate more points between two coordinates with natural curves
export function interpolatePoints(start: [number, number], end: [number, number], steps: number): [number, number][] {
  const points: [number, number][] = [];
  
  // Calculate a control point for the bezier curve
  const midLat = (start[0] + end[0]) / 2;
  const midLng = (start[1] + end[1]) / 2;
  // Add some natural variation to the control point
  const angle = Math.atan2(end[1] - start[1], end[0] - start[0]) + Math.PI / 2;
  const distance = Math.sqrt(Math.pow(end[0] - start[0], 2) + Math.pow(end[1] - start[1], 2)) * 0.2;
  const controlPoint: [number, number] = [
    midLat + Math.cos(angle) * distance,
    midLng + Math.sin(angle) * distance
  ];

  for (let i = 0; i <= steps; i++) {
    const t = i / steps;
    const point = bezierInterpolate(start, controlPoint, end, t);
    points.push(point);
  }
  
  return points;
}

// Function to add more detail to state borders with enhanced smoothing
export function getDetailedStateCoordinates(state: GermanState): [number, number][] {
  const detailedCoords: [number, number][] = [];
  const coordinates = state.coordinates;
  const numPoints = coordinates.length;
  
  for (let i = 0; i < numPoints; i++) {
    const current = coordinates[i];
    const next = coordinates[(i + 1) % numPoints];
    const interpolated = interpolatePoints(current, next, 15); // Increased steps for smoother curves
    
    // Only add the first point of each segment (except the last segment)
    if (i < numPoints - 1) {
      detailedCoords.push(...interpolated.slice(0, -1));
    } else {
      detailedCoords.push(...interpolated);
    }
  }
  
  return detailedCoords;
} 